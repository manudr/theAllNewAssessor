<div class="container-custom">
    <div class="row">
        <div class="col-sm-12">
            <div class="alert alert-success">
                <h5>
                    <strong>
                        This property is a {{accountDetailsCtrl.parcel.account.acctType | lowercase}} property on a {{accountDetailsCtrl.parcel.sale.landType | lowercase}} lot.
                        This property has been added to your favourites.
                    </strong>
                </h5>
                <h5>
                    <strong>
                    This property has {{accountDetailsCtrl.parcel.sale.bltAsTotalUnitCount | lowercase}} building<h5 ng-if="{{accountDetailsCtrl.parcel.sale.bltAsTotalUnitCount > 1}}">s</h5>
                    on a {{accountDetailsCtrl.parcel.sale.landNetSf | number}} square feet lot,
                    built in {{accountDetailsCtrl.parcel.sale.bltAsYearBuilt | lowercase}}
                    as a {{accountDetailsCtrl.parcel.sale.bltAsDescription | lowercase}}
                    with {{accountDetailsCtrl.parcel.sale.impQuality | lowercase}} quality and
                    with features: {{accountDetailsCtrl.parcel.sale.hvacType | lowercase}},
                    {{accountDetailsCtrl.parcel.sale.impInterior | lowercase}} as interior,
                    {{accountDetailsCtrl.parcel.sale.impExterior | lowercase}} as exterior
                    {{accountDetailsCtrl.parcel.sale.roofCover | lowercase}} as roof cover,
                    {{accountDetailsCtrl.parcel.sale.roomCount | lowercase}} total rooms,
                    {{accountDetailsCtrl.parcel.sale.bedRoomCount | lowercase}} bed rooms,
                    {{accountDetailsCtrl.parcel.sale.bathCount | lowercase}} bath rooms,
                    {{accountDetailsCtrl.parcel.sale.totalImpSf | number}}</strong> total finished square feet of
                </h5>
                <h5 ng-if="{{accountDetailsCtrl.parcel.appeal.appealNo != null}}">This account has an appeal in process. Click <a style="color: #cc3300; font-weight: bold " href="#/appealDetails/{{accountDetailsCtrl.parcel.appeal.appealNo}}">here</a> to view appeal details</h5>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-6">
            <div class="panel panel-success">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        Account Details
                    </h4>
                </div>
                <div class="panel-body">
                    <div class="data-display-header-column">Account Number</div>
                    <div class="data-display-data-column">{{accountDetailsCtrl.parcel.account.accountNo}}</div>

                    <div class="data-display-header-column">State Parcel Number</div>
                    <div class="data-display-data-column">{{accountDetailsCtrl.parcel.account.parcelNo}}</div>

                    <div class="data-display-header-column">Reception No</div>
                    <div class="data-display-data-column"><a href="http://apps.douglas.co.us/apps/assessor/landmarkServlet?receptionNo={{accountDetailsCtrl.parcel.sale.receptionNo}}">{{accountDetailsCtrl.parcel.sale.receptionNo}}</a></div>

                    <div class="data-display-header-column">Account Type</div>
                    <div class="data-display-data-column">{{accountDetailsCtrl.parcel.account.acctType}}</div>

                    <div class="data-display-header-column">Property Address</div>
                    <div class="data-display-data-column">
                        {{accountDetailsCtrl.parcel.propertyAddress.streetNumber}}&nbsp;{{accountDetailsCtrl.parcel.propertyAddress.streetName}}&nbsp;
                        {{accountDetailsCtrl.parcel.propertyAddress.streetType}}&nbsp;{{accountDetailsCtrl.parcel.propertyAddress.cityName}}&nbsp;
                        {{accountDetailsCtrl.parcel.propertyAddress.stateName}}&nbsp;{{accountDetailsCtrl.parcel.propertyAddress.zipCode}}
                    </div>

                    <div class="data-display-header-column">Owner Name</div>
                    <div class="data-display-data-column">{{accountDetailsCtrl.parcel.sale.grantee}}</div>

                    <div class="data-display-header-column">Owner Address</div>
                    <div class="data-display-data-column">
                        {{accountDetailsCtrl.parcel.ownerAddress.streetAddress}}&nbsp;
                        {{accountDetailsCtrl.parcel.ownerAddress.cityName}}&nbsp;
                        {{accountDetailsCtrl.parcel.ownerAddress.stateName}}&nbsp;
                        {{accountDetailsCtrl.parcel.ownerAddress.zipCode}}
                    </div>

                    <div class="data-display-header-column">Total Actual Value</div>
                    <div class="data-display-data-column"><span id="currency-default">{{accountDetailsCtrl.parcel.sale.priorYearTaxRollActualAmt | currency}}</span></div>

                    <div class="data-display-header-column">Total Assessed Value</div>
                    <div class="data-display-data-column">{{accountDetailsCtrl.parcel.sale.priorYearTaxRollAssessed | currency}}</div>

                    <div class="data-display-header-column">Tax District</div>
                    <div class="data-display-data-column">{{accountDetailsCtrl.parcel.account.defaultTaxDistrict}}</div>

                    <div class="data-display-header-column">Tax Rate</div>
                    <div class="data-display-data-column">{{accountDetailsCtrl.parcel.account.taxRate}}</div>

                    <div class="data-display-header-column">Subdivision Name</div>
                    <div class="data-display-data-column">{{accountDetailsCtrl.parcel.account.subdivisionName}}</div>

                    <div class="data-display-header-column">Neighborhood</div>
                    <div class="data-display-data-column">{{accountDetailsCtrl.parcel.account.nbhdCode}}-{{accountDetailsCtrl.parcel.account.nbhdExtension}}</div>

                    <div class="data-display-header-column">Location Description</div>
                    <div class="data-display-data-column">{{accountDetailsCtrl.parcel.account.legal}}</div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-12">
            <div class="panel panel-success">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        Neighbourhood Sales
                    </h4>
                </div>
                <div class="panel-body">
                    <div ng-controller="neighborhoodSalesController">
                        <div class="table-responsive">
                            <table class="table table-hover table-bordered table-striped">
                                <thead>
                                <tr colspan="6" class="success">
                                    <input type="text" class="form-control" placeholder="Type your filter criteria here..." ng-model="neighborhoodSalesSearchString">
                                </tr>
                                <tr class="success">
                                    <br>
                                    <th nowrap>
                                        <a href="" ng-click="sortType = 'accountNo'; sortReverse = !sortReverse">
                                            ACCOUNT NO
                                            <span ng-show="sortType == 'accountNo' && !sortReverse" class="fa fa-caret-down"></span>
                                            <span ng-show="sortType == 'accountNo' && sortReverse" class="fa fa-caret-up"></span>
                                        </a>
                                    </th>
                                    <th nowrap>
                                        <a href="" ng-click="sortType = 'receptionNo'; sortReverse = !sortReverse">
                                            RECEPTION NO.
                                            <span ng-show="sortType == 'receptionNo' && !sortReverse" class="fa fa-caret-down"></span>
                                            <span ng-show="sortType == 'receptionNo' && sortReverse" class="fa fa-caret-up"></span>
                                        </a>
                                    </th>
                                    <th nowrap>
                                        <a href="" ng-click="sortType = 'propertyAddress'; sortReverse = !sortReverse">
                                            PROPERTY ADDRESS
                                            <span ng-show="sortType == 'propertyAddress' && !sortReverse" class="fa fa-caret-down"></span>
                                            <span ng-show="sortType == 'propertyAddress' && sortReverse" class="fa fa-caret-up"></span>
                                        </a>
                                    </th>
                                    <th nowrap>
                                        <a href="" ng-click="sortType = 'neighborhood'; sortReverse = !sortReverse">
                                            NEIGHBORHOOD
                                            <span ng-show="sortType == 'neighborhood' && !sortReverse" class="fa fa-caret-down"></span>
                                            <span ng-show="sortType == 'neighborhood' && sortReverse" class="fa fa-caret-up"></span>
                                        </a>
                                    </th>
                                    <th nowrap>
                                        <a href="" ng-click="sortType = 'subdivision'; sortReverse = !sortReverse">
                                            SUBDIVISION
                                            <span ng-show="sortType == 'subdivision' && !sortReverse" class="fa fa-caret-down"></span>
                                            <span ng-show="sortType == 'subdivision' && sortReverse" class="fa fa-caret-up"></span>
                                        </a>
                                    </th>
                                    <th nowrap>
                                        <a href="" ng-click="sortType = 'jurisdictionId'; sortReverse = !sortReverse">
                                            JURISDICTION ID
                                            <span ng-show="sortType == 'jurisdictionId' && !sortReverse" class="fa fa-caret-down"></span>
                                            <span ng-show="sortType == 'jurisdictionId' && sortReverse" class="fa fa-caret-up"></span>
                                        </a>
                                    </th>
                                    <th nowrap>
                                        <a href="" ng-click="sortType = 'saleDate'; sortReverse = !sortReverse">
                                            SALE DATE
                                            <span ng-show="sortType == 'saleDate' && !sortReverse" class="fa fa-caret-down"></span>
                                            <span ng-show="sortType == 'saleDate' && sortReverse" class="fa fa-caret-up"></span>
                                        </a>
                                    </th>
                                    <th nowrap>
                                        <a href="" ng-click="sortType = 'salePrice'; sortReverse = !sortReverse">
                                            SALE PRICE
                                            <span ng-show="sortType == 'salePrice' && !sortReverse" class="fa fa-caret-down"></span>
                                            <span ng-show="sortType == 'salePrice' && sortReverse" class="fa fa-caret-up"></span>
                                        </a>
                                    </th>
                                    <th nowrap>
                                        <a href="" ng-click="sortType = 'timeAdjustedSalePrice'; sortReverse = !sortReverse">
                                            TIME ADJUSTED SALE PRICE
                                            <span ng-show="sortType == 'timeAdjustedSalePrice' && !sortReverse" class="fa fa-caret-down"></span>
                                            <span ng-show="sortType == 'timeAdjustedSalePrice' && sortReverse" class="fa fa-caret-up"></span>
                                        </a>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="sale in sales | orderBy:sortType:sortReverse | filter:neighborhoodSalesSearchString" ng-class-odd="'odd'">
                                        <td><a href="#/parcelDetails/{{sale.accountNo}}/{{sale.propertyZipCode}}/{{sale.neighborhood}}/{{sale.subdivision}}">{{sale.accountNo}}</a></td>
                                        <td>{{sale.receptionNo}}</td>
                                        <td>{{sale.propertyStreet + ' ' + sale.propertyCity + ' ' + sale.propertyState + ' ' + sale.propertyZipCode}}</td>
                                        <td>{{sale.neighborhood + '-' + sale.neighborhoodExt}}</td>
                                        <td>{{sale.subdivision}}</td>
                                        <td>{{sale.jurisdictionId}}</td>
                                        <td>{{sale.saleDate | date:"MM/dd/yyyy"}}</td>
                                        <td>{{sale.salePrice | currency}}</td>
                                        <td>{{sale.timeAdjustedSalePrice | currency}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>